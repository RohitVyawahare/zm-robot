<?xml version="1.0" encoding="UTF-8"?>
<robot generated="20180226 13:04:35.411" generator="Robot 3.0.2 (Python 2.7.10 on darwin)">
<suite source="/Users/rohit.vyawahare/repo/zm-robot/tests/test_zcs_license.robot" id="s1" name="Test Zcs License">
<kw type="setup" name="Open Connection And Log In">
<kw name="Open Connection" library="SSHLibrary">
<doc>Opens a new SSH connection to the given `host` and `port`.</doc>
<arguments>
<arg>${HOST}</arg>
</arguments>
<status status="PASS" endtime="20180226 13:04:35.509" starttime="20180226 13:04:35.509"></status>
</kw>
<kw name="Login" library="SSHLibrary">
<doc>Logs into the SSH server with the given `username` and `password`.</doc>
<arguments>
<arg>${USERNAME}</arg>
<arg>${PASSWORD}</arg>
</arguments>
<msg timestamp="20180226 13:04:35.509" level="INFO">Logging into 'zqa-149.eng.zimbra.com:22' as 'root'.</msg>
<msg timestamp="20180226 13:04:39.394" level="INFO">Read output: Last failed login: Sun Feb 25 23:34:22 PST 2018 from 10.15.32.83 on ssh:notty
There were 2 failed login attempts since the last successful login.
Last login: Sun Feb 25 23:27:40 2018 from 10.15.32.83
[root@zqa-149 ~]#</msg>
<status status="PASS" endtime="20180226 13:04:39.394" starttime="20180226 13:04:35.509"></status>
</kw>
<status status="PASS" endtime="20180226 13:04:39.394" starttime="20180226 13:04:35.508"></status>
</kw>
<test id="s1-t1" name="Validate if the license if OK">
<kw name="Execute Command" library="SSHLibrary">
<doc>Executes `command` on the remote machine and returns its outputs.</doc>
<arguments>
<arg>su - zimbra -c 'zmlicense -c'</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<msg timestamp="20180226 13:04:39.396" level="INFO">Executing command 'su - zimbra -c 'zmlicense -c''.</msg>
<msg timestamp="20180226 13:04:43.822" level="INFO">Command exited with return code 0.</msg>
<msg timestamp="20180226 13:04:43.822" level="INFO">${output} = license is OK</msg>
<status status="PASS" endtime="20180226 13:04:43.822" starttime="20180226 13:04:39.396"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${output}</arg>
<arg>license is OK</arg>
</arguments>
<status status="PASS" endtime="20180226 13:04:43.823" starttime="20180226 13:04:43.822"></status>
</kw>
<doc>Check license using zmlicense -c</doc>
<status status="PASS" endtime="20180226 13:04:43.823" critical="yes" starttime="20180226 13:04:39.395"></status>
</test>
<kw type="teardown" name="Close All Connections" library="SSHLibrary">
<doc>Closes all open connections.</doc>
<status status="PASS" endtime="20180226 13:04:43.948" starttime="20180226 13:04:43.824"></status>
</kw>
<doc>Test ZCS license
- Check if the license is valid</doc>
<status status="PASS" endtime="20180226 13:04:43.949" starttime="20180226 13:04:35.413"></status>
</suite>
<statistics>
<total>
<stat fail="0" pass="1">Critical Tests</stat>
<stat fail="0" pass="1">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="0" id="s1" name="Test Zcs License" pass="1">Test Zcs License</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
